Have rfvar and svar, two programs that estimate var's using dummy observation 
priors, but without normalizing the prior, and thus possibly with improper 
priors.  Both call varprior to set up dummy obs.  (I.e., need to remove 
rfvar3's redundant generation of dobs.  DONE
---------------------------------
July 26, 2021:  rfvar() now done.  takes ydata and breaks as input, does
not take prior parameters as input.  Prior parameters accepted by rfmdd()
(new version of mgnldnsty), not yet done.  Make sure a standard format of 
pparams works in both varprior() and rfmdd().  
DONE
----------------------------------------------
8/6/21: rfmdd() plans below all done and through prelliminary testing.  Input
data, if there are breaks, is in the form of a list of ts objects.
It allows specifying arbitrary own-AR prior mean coefficients, variable by
variable.  This may substitute for shrinking off-diagonal coefficients.
DONE
---------------------------------------------------------------------
rfmdd() should be able to take 
date information about breaks and preserve that in its output.  It should (as 
mgnldnsty() already does) allow for training samples.

It should also, instead of just 1 or 0 (nstat TRUE and FALSE) for the prior 
mean coefficient on first own lag as in the current code, allow also c(1.25, 
-.25) as the means for the first two lags.  These are approximately the 
coefficients of the best second-order predictor for a univariate process that 
is formed as unit-averages of a continuous time Wiener process.
DONE
-----------------------------------------------------------------
8/6/21:  Unresolved issue with rfmdd():  Does it handle non=trivial xdata?  What
is interpretation of xsig in that case?
DONE
----------------------------------------------

svar takes A0 and lmd as given, uses equation-by-equation fit, allows weighted 
observations.  (via lmd.  Separately as t-errors, or just dim(lmd)[2]==T?
This new svar is just the svar case of rfvar3, which has been deleted from
rfvar.

rfvar uses svd, so can handle singular rhs matrix, uses default prior with mu 
and lambda only.

Above can all be done on one git branch.
----------------------------------------------
9/13/21:  SVARhtskdmdd should be renamed something like svar().  It should, 
like rfvar, not use dates or take list-form data.  When bvarwrap is called 
repeatedly in optimization or MCMC, the prior doesn't change and the stacked-up
data including the dummy observations remains constant.  So there should be
a version of bvarwrap and svar that does not need to call varprior or to do
the stacking of ylist.

So:  svarinit() should create stacked ydata, Tsigbrk, and an svar function.
The latter then has access to the stacked ydata and Tsigbrk that remain 
constant across repeated calls to svar.  This is a lot of work.  Does it save
enough computation time to be worth it?
-------------------------------------------------
Even if Tsigbrk varies, breaks is stable.  But Hidden Markov chain doesn't work
nicely if there are data breaks.  It has to know how big the breaks are to know
what power of the P matrix to apply at the break.  But the ylist, with its date
attributes, has this info, so HMC software can just be an outer loop.  
breaks != NULL just prevents a Gibbs draw from a Dirichlet for the transition
matrix elements.
-------------------------------------------------
9/17/21:  svar and rfvar now take y as a "time series with breaks", T x nvar
matrix, and populate a big X matrix with lagged values of y, also xdata.
for rfvar this makes sense, since rfvar is likely to be called iteratively
only if prior parameters are varied, and these require changing the dummy variable
part of X.  But svar will be called iteratively with only A0 and lmd changing.
So for svar, it would speed things up to set up X outside of svar.

Why create "time series with breaks" form at all?  varprior() can easily return
a list, and then can populate Y,X from the real and dummy list elements directly.
The Y,X pair are used directly in rfvar, only after transformation by svar.

In iteration over (A0, lmd), it would save some time to not run list -> Y,X on each
call, but in iteration over prior parameters have to run it each time anyway.

An "svarInit()" function that created Y,X and returned an svar function with Y,X in 
its environment could create space issues for naive users, since every time prior
parameters are altered a new svar function with its Y,X is created, unless the returned
svar() function overwrites any previous one or the previous one is rm'd.

Need to time list -> Y,X on realistic data/model.
-------------------------------------------------
varprior: Besides implementing the MN prior (as now) it should also facilitate 
entering arbitrary prior dummy obs's as (nlags+1) x nvar matrix
Not done.  

Instead, allow ylist blocks to be designated as dummy observations.  Then
the train parameter can be dropped.  Suggestion added 8/31/21.
DONE (only slightly tested)
--------------------------------------------------

Documentation files placed in /inst/doc of the package directory will be
linked to in the index formed at package installation.  Do this with the pdf 
documentation for the Minnesota prior.  Will a @seealso link to it by filename 
in the .Rd file of a function work?  (Think so.)
---------------------------------------------------
8/14/21 have finished restructuring varprior() and mgnldnsty() (now rfmdd()), 
but still need to remove excessive documentation, link to the MN prior pdf, 
clean out old comments, and test with data.  DONE.

--------------------------------------------------
bvarwrap:  include A0,lmd prior parameters in parameter list.
restore t-errors option?  Or is Tsigbrk==1:T enough?
---------------------------------------------------
postdraw, SVARpostdraw, irfband, plotir:  plotir() is used by irfBand.  It 
does the actual layout and plotting.  Both postdraw programs gnerate draws from 
the posterior on coefficients.  The rf version does Gibbs sampling starting from 
somewhere near the peak.  The SVAR version uses draws of A0 and lmd already 
generated via some form of MCMC, to generate draws of the rf coefficients, 
accompanied by the corresponding A and lmd.  The reason for 
doing this in two steps is that, because we can draw easily from the exact 
conditional distribution, we need only a thinned version of the A, lmd draws to 
work from.  
-------------------------------------------
fcastBand() should, like irfBand, recognize SVAR vs rf pdout arg, so that 
population of smat with A0i not needed outside the program.
---------------------------------
There should be a function (not, as currently, just a script) to do 
the A, lmd draws.  Conditional on A, might lmd posterior have closed form?
-----------------------------------------------------
There should be programs that manage the pparams list and its defaults. There 
should also be a similar program and list for parameters governing the A0, lmd 
prior.  

Not yet sure this is a good idea.  Many parameters will often be at defaults.
But it would be nice to save named prior parameter lists, then use them in
the function call without typing or copy-paste.

9/6/21:  Not sure about this.  Maybe best left to the user.  Full default list 
of params is there in arguments of rfmdd(). With verbose options the list, with 
numerical values, is returned.  A user who wants to keep track of a few parameter
lists can call rfmdd() with do.call(rfmdd, list( etc.

9/12/21:  Just spent another several hours thinking about this.  Sticking with
entering prior parameters individually, not as a list.  In a list, could not
easily implement the sig=rep(.01, ncol(ydata)) piece.  Also, for a naive user
sticking mostly to defaults, the non-list option is easier.  Finally, for
documentation, rfmdd() now returns the numeric values of the prior parameters
in a list, and bvarwrap() or its successor should do the same.
------------------------------------------------------------------
9/20/21:  Tsigbrk in svar is indexes into the data matrix.  But in the user-
friendly svmdd, it should be dates, and the program should translate it into
the form needed by svar().  Or it could all be done in the "wrap" function?
When ydata is a list, the program has to look at the tsp of each list
component to set Tsigbrk indexes.

What if two list components include the same Tsigbrk date?  Could happen if
data gaps of less than lags occur.  
-----------------------------------------------------------------
10/2/21:  Finally have svmdd and rfmdd giving matching output (at least the same
residuals) when A0=100I and lmd is all ones.  Next:  test with actual time
variation in structural shocks.
-----------------------------------------------------------------
Probably useful:  A program for producing matrix layouts of graphs, with
each graph generated by a program (maybe same program, just varying data),
vertical scale set by row (or col?), labels across top and sides, 
axis labels just  at bottom (assuming all plots are ts).  The plots from
fcastBand() and irfBand() could then just be special cases, and a variation
like adding an "actual" line in the fcast plots would change only the 
individual plot program.
---------------------------------------------------------------------
Extension:  Allow restrictions on A0.
Extension:  Parameterize the prior distributions of A0 and lmd.
-----------------------------------------------------------------
panel var project.  Need to allow cross-country variation in parameters, but 
with shrinkage toward a common form.  But also need a better way to introduce 
cross-country effects.
------------------------------------------------------------
